"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[237],{8243:(t,e,o)=>{o.d(e,{Z:()=>i});var r=o(5918),s=o(9231);const i=t=>{const{guider:e,stepIdx:o}=(0,s.useContext)(r.Z);return s.createElement("div",{className:"bg-card outline-primary max-w-[320px] rounded-md shadow-sm outline outline-1"},s.createElement("div",{className:"flex justify-between px-4 py-2"},s.createElement("div",{className:"font-bold"},t.title),!t.hideButton&&s.createElement("div",{className:"cursor-pointer font-bold",onClick:()=>e.current.exit()},"\xd7")),s.createElement("div",{className:"px-4"},t.children),!t.hideButton&&s.createElement("div",{className:"border-primary flex border-t py-4 px-4"},0!==o&&s.createElement("button",{className:"button button--primary",onClick:()=>e.current.back()},"Back"),s.createElement("button",{className:"button button--primary ml-auto",onClick:()=>e.current.next()},"Next")))}},5918:(t,e,o)=>{o.d(e,{Z:()=>r});const r=(0,o(9231).createContext)(null)},7113:(t,e,o)=>{o.r(e),o.d(e,{default:()=>x});var r=o(6026),s=o(3023),i=o(3990),n=o(7583),a=o(9841),p=o(9231);const l="features_t9lD",c=[{title:"\ud83d\udd27 Customizable",description:p.createElement(p.Fragment,null,"\u2728 You can customize everything in your guide, and you can also create popover with your UI library.")},{title:"\ud83c\udff3\u200d\ud83c\udf08 Support major frameworks",description:p.createElement(p.Fragment,null,"\u2728 guiderjs supports major frameworks, including"," ",p.createElement(r.Z,{to:"/docs/react/Get started"},"React")," and"," ",p.createElement(r.Z,{to:"/docs/vue3/Get started"},"Vue3"),". You can also use guiderjs with ",p.createElement(r.Z,{to:"/docs/vanilla/Get started"},"VanillaJS"),".")},{title:"\u26a1 Lightweight",description:p.createElement(p.Fragment,null,"\u2728 guiderjs has no dependency, super lightweight. code size is less than 10 KiB (with minified and gzip).")}];function h(t){let{title:e,description:o}=t;return p.createElement("div",{className:(0,a.Z)("col col--4")},p.createElement("div",{className:"text--center padding-horiz--md py-2"},p.createElement("h3",null,e),p.createElement("p",null,o)))}function u(){return p.createElement("section",{className:l},p.createElement("div",{className:"container"},p.createElement("div",{className:"row"},c.map(((t,e)=>p.createElement(h,(0,n.Z)({key:e},t)))))))}var d=o(8243),v=o(5918),m=o(7462);const y="heroBanner_qdFl",f="buttons_AeoN";function g(){const{siteConfig:t}=(0,s.Z)(),{guider:e}=(0,p.useContext)(v.Z);return p.createElement("header",{className:(0,a.Z)("hero hero--primary",y)},p.createElement("div",{className:"container py-2"},p.createElement("h1",{className:"hero__title"},t.title),p.createElement("p",{className:"hero__subtitle"},t.tagline),p.createElement("div",{className:(0,a.Z)(f,"gap-4")},p.createElement(r.Z,{className:"button button--secondary button--lg",to:"/docs/intro"},"Get started"),p.createElement("div",{className:"button button--secondary button--lg",onClick:()=>e.current.start()},"Preview"))))}function x(){const{siteConfig:t}=(0,s.Z)(),e=(0,p.useRef)(),[o,n]=(0,p.useState)(-1),a=[{key:"welcome",popover:p.createElement(d.Z,{title:"Hello guiderjs!"},"\ud83d\ude09 Welcome to guiderjs. This is a"," ",p.createElement("span",{className:"text-primary"},"customable")," and"," ",p.createElement("span",{className:"text-primary"},"animated")," library for creating user guide on your website."),popoverPosition:"center"},{key:"customizable",target:".row .col:first-child",popover:p.createElement(d.Z,{title:"\ud83d\udd27 Customizable"},"\u2728 You can customize everything in your guide, popover, overlay or animation. And you can also create popover with your UI library.")},{key:"frameworks",target:".row .col:nth-child(2)",popover:p.createElement(d.Z,{title:"\ud83c\udff3\u200d\ud83c\udf08 Support major frameworks"},"\u2728 guiderjs supports major frameworks, including"," ",p.createElement(r.Z,{to:"/docs/react/Get started"},"React")," and"," ",p.createElement(r.Z,{to:"/docs/vue3/Get started"},"Vue3"),". You can also use guiderjs with",p.createElement(r.Z,{to:"/docs/vanilla/Get started"},"VanillaJS"),".")},{key:"lightweight",target:".row .col:nth-child(3)",popover:p.createElement(d.Z,{title:"\u26a1 Lightweight"},"\u2728 guiderjs has no dependency, super lightweight. code size is less than 10 KiB (with minified and gzip).")}];return p.createElement(v.Z.Provider,{value:{guider:e,steps:a,stepIdx:o}},p.createElement(m.Z,{title:`Hello from ${t.title}`,description:"guiderjs, a customizable and animated library for building user guide in your website."},p.createElement(g,null),p.createElement("main",null,p.createElement(u,null)),p.createElement(i.Z,{steps:a,ref:e,onStepStart:(t,e)=>n(e)})))}},3990:(t,e,o)=>{o.d(e,{Z:()=>v});var r=o(9231),s=o(264),i=t=>new Promise((e=>{const o=()=>{t.removeEventListener("animationend",o),e()};t.addEventListener("animationend",o)})),n=class{popover;control;overlayTop;overlayLeft;container;constructor(t,e,o,r,s){this.popover=t,this.control=e,this.overlayTop=o,this.overlayLeft=r,this.container=s}async start(t){if(t.popover){if(this.popover.style.display="initial",t.target)if("auto"===t.popoverPosition){const e=this._extract(this.overlayTop.style.height),o=this._extract(this.overlayLeft.style.width),r=getComputedStyle(this.popover),s=this._extract(r.height),i=this._extract(r.width),n=this.container.getBoundingClientRect();e>=s+t.popoverGap?this._setControlTop(t):n.width-o-this._extract(this.control.style.width)-t.popoverGap>=i?this._setControlRight(t):n.height-e-this._extract(this.control.style.height)-t.popoverGap>=s?this._setControlBottom(t):o+t.popoverGap>=i?this._setControlLeft(t):(this.popover.style.top=t.popoverTop,this.popover.style.left=t.popoverLeft)}else switch(t.popoverPosition){case"target-top":this._setControlTop(t);break;case"target-bottom":this._setControlBottom(t);break;case"target-left":this._setControlLeft(t);break;case"target-right":this._setControlRight(t);break;default:console.warn(`Unknown popover position ${t.popoverPosition}`)}else if("center"===t.popoverPosition){const t=getComputedStyle(this.popover),e=this._extract(t.height),o=this._extract(t.width),r=this.container.getBoundingClientRect();this.popover.style.top=r.height/2-e/2+"px",this.popover.style.left=r.width/2-o/2+"px"}else this.popover.style.top=t.popoverTop,this.popover.style.left=t.popoverLeft;this.popover.style.animation=`guiderjs-${t.popoverAnimation} ${t.popoverAnimationDuration} ${t.popoverAnimationFunction} forwards`,await i(this.popover)}else this.popover.style.display="none"}async exit(t){t.popover&&(this.popover.style.animation=`guiderjs-${t.popoverAnimation}-out ${t.popoverAnimationDuration} ${t.popoverAnimationFunction} forwards`,await i(this.popover))}_setControlTop(t){const e=getComputedStyle(this.popover);this.popover.style.top=`calc(${t.popoverTop} - ${e.height} - ${t.popoverGap}px)`,"start"===t.popoverAnchor?this.popover.style.left=t.popoverLeft:"middle"===t.popoverAnchor?this.popover.style.left=`calc(${t.popoverLeft} + 50% - ${e.width} / 2)`:this.popover.style.left=`calc(${t.popoverLeft} + 100% - ${e.width})`}_setControlBottom(t){if(this.popover.style.top=`calc(${t.popoverTop} + ${this.control.style.height} + ${t.popoverGap}px)`,"start"===t.popoverAnchor)this.popover.style.left=t.popoverLeft;else if("middle"===t.popoverAnchor){const e=getComputedStyle(this.popover);this.popover.style.left=`calc(${t.popoverLeft} + 50% - ${e.width} / 2)`}else{const e=getComputedStyle(this.popover);this.popover.style.left=`calc(${t.popoverLeft} + 100% - ${e.width})`}}_setControlLeft(t){const e=getComputedStyle(this.popover);this.popover.style.left=`calc(${t.popoverLeft} - ${e.width} - ${t.popoverGap}px)`,"start"===t.popoverAnchor?this.popover.style.top=t.popoverTop:"middle"===t.popoverAnchor?this.popover.style.top=`calc(${t.popoverTop} + 50% - ${e.height} / 2)`:this.popover.style.top=`calc(${t.popoverTop} + 100% - ${e.height})`}_setControlRight(t){if(this.popover.style.left=`calc(${t.popoverLeft} + ${this.control.style.width} + ${t.popoverGap}px)`,"start"===t.popoverAnchor)this.popover.style.top=t.popoverTop;else if("middle"===t.popoverAnchor){const e=getComputedStyle(this.popover);this.popover.style.top=`calc(${t.popoverTop} + 50% - ${e.height} / 2)`}else{const e=getComputedStyle(this.popover);this.popover.style.top=`calc(${t.popoverTop} + 100% - ${e.height})`}}_extract(t){return Number(t.slice(0,-2))}},a=t=>{const e=t.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+o}},p=(t,e)=>{const o=a(t),r=a(e);return{top:o.top-r.top,left:o.left-r.left}},l=t=>new Promise((e=>{const o=()=>{t.removeEventListener("transitionend",o),e()};t.addEventListener("transitionend",o)})),c=class{container;overlayTop;overlayLeft;control;constructor(t,e,o,r){this.container=t,this.overlayTop=e,this.overlayLeft=o,this.control=r,this.control.style.width="0px",this.control.style.height="0px",this.overlayTop.style.height="0px",this.overlayLeft.style.width="0px"}async start(t){if(t)if(t.target){const e=document.querySelector(t.target);if(e){const t=p(e,this.container),o=e.getBoundingClientRect();await this.updateControl(Math.round(o.height),Math.round(o.width),Math.round(t.top),Math.round(t.left))}else await this.updateControl(0,0,0,0)}else await this.updateControl(0,0,0,0)}async updateControl(t,e,o,r){const s=[];this.control.style.height===`${t}px`&&this.control.style.width===`${e}px`||(s.push(l(this.control)),this.control.style.height=`${t}px`,this.control.style.width=`${e}px`),this.overlayTop.style.height!==`${o}px`&&(s.push(l(this.overlayTop)),this.overlayTop.style.height=`${o}px`),this.overlayLeft.style.width!==`${r}px`&&(s.push(l(this.overlayLeft)),this.overlayLeft.style.width=`${r}px`),await Promise.all(s)}},h=(t,e=50)=>{let o=0;return(...r)=>{clearTimeout(o),o=setTimeout((()=>t(...r)),e)}},u=class{option;popoverManager;targetManager;status;currentStep;currentStepIdx;container;resizeObserver;updateUI;constructor(t,e,o,r,s,i,a){this.container=s,this.popoverManager=new n(t,e,o,r,s),this.targetManager=new c(s,o,r,e),this.status="stop",this.option=i,this.updateUI=a,this.resizeObserver=new ResizeObserver(h((()=>this.targetManager.start(this.currentStep))))}start(t){if(("show"===this.status||"stop"===this.status)&&this.option.steps.length){if(t){const e=this.option.steps.findIndex((e=>e.key===t));this.currentStepIdx=e>-1?e:0}else this.currentStepIdx=0;"stop"===this.status?(this.option.onStart&&this.option.onStart(),this.container.style.visibility="visible",this.resizeObserver.observe(this.container),this._playStep(!0)):this._playStep()}}next(){"show"===this.status&&(this.currentStepIdx===this.option.steps.length-1?this.exit():(this.currentStepIdx++,this._playStep()))}back(){"show"!==this.status||this.currentStepIdx<=0||(this.currentStepIdx--,this._playStep())}async exit(){"show"===this.status&&(await this._exitCurrentStep(),await this.targetManager.updateControl(0,0,0,0),this.option.onExit&&this.option.onExit(),this.container.style.visibility="hidden",this.currentStepIdx=-1,this.currentStep=null,this.resizeObserver.disconnect(),this.status="stop")}setOption(t){this.option=t,this.currentStep={...this.option,...this.option.steps[this.currentStepIdx]}}setUpdateUI(t){this.updateUI=t}release(){this.resizeObserver.disconnect()}async _playStep(t=!1){this.status="stepStarting",t||await this._exitCurrentStep(),this.currentStep={...this.option,...this.option.steps[this.currentStepIdx]},this.currentStep.onStepStart&&this.currentStep.onStepStart(this.currentStep,this.currentStepIdx),this.updateUI(this.currentStep),await this.targetManager.start(this.currentStep),await this.popoverManager.start(this.currentStep),this.status="show"}async _exitCurrentStep(){this.status="stepExiting",this.currentStep.onStepExit&&this.currentStep.onStepExit(this.currentStep,this.currentStepIdx),await this.popoverManager.exit(this.currentStep)}},d={steps:[],overlayColor:"#333333",overlayOpacity:.5,zIndex:99999,preventTarget:!0,popoverPosition:"auto",popoverAnchor:"middle",popoverGap:8,popoverTop:"0px",popoverLeft:"0px",popoverAnimation:"flip-y",popoverAnimationDuration:"400ms",popoverAnimationFunction:"ease"},v=(0,r.forwardRef)(((t,e)=>{const o=(0,r.useRef)(),i=(0,r.useRef)(),n=(0,r.useRef)(),a=(0,r.useRef)(),p=(0,r.useRef)(),l=(0,r.useRef)(),[c,h]=(0,r.useState)(null),v={container:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",pointerEvents:"none",overflow:"visible",visibility:"hidden",display:"flex",flexDirection:"column"},overlayTop:{pointerEvents:"all",transition:"300ms all ease"},middle:{display:"flex"},overlayLeft:{pointerEvents:"all",transition:"300ms all ease"},control:{position:"relative",transition:"300ms all ease"},overlayRight:{pointerEvents:"all",transition:"300ms all ease",flexGrow:"1"},overlayBottom:{pointerEvents:"all",transition:"300ms all ease",flexGrow:"1"},popover:{position:"absolute",pointerEvents:"all",opacity:"0",transition:"transform 400ms ease-in, opacity 400ms ease-in",width:"max-content",height:"max-content",cursor:"initial",zIndex:"1"}};(0,r.useEffect)((()=>(l.current=new u(p.current,a.current,n.current,i.current,o.current,{...d,...t},(t=>h(t))),()=>{l.current.release()})),[]);const m=()=>{c?.onOverlayClick&&c.onOverlayClick()},y=t=>({...t,cursor:c?.onOverlayClick?"pointer":"initial",backgroundColor:c?.overlayColor,opacity:c?.overlayOpacity});return l.current&&l.current.setOption({...d,...t}),(0,r.useImperativeHandle)(e,(()=>({start:t=>l.current.start(t),next:()=>l.current.next(),back:()=>l.current.back(),exit:()=>l.current.exit()}))),(0,s.jsxs)("div",{ref:o,style:{...v.container,zIndex:c?.zIndex},children:[(0,s.jsx)("style",{children:"@keyframes guiderjs-flip-y{0%{opacity:0;transform:rotateX(-180deg)}to{opacity:1;transform:rotateX(0)}}@keyframes guiderjs-flip-y-out{0%{opacity:1;transform:rotateX(0)}to{opacity:0;transform:rotateX(-180deg)}}@keyframes guiderjs-fade{0%{opacity:0}to{opacity:1}}@keyframes guiderjs-fade-out{0%{opacity:1}to{opacity:0}}@keyframes guiderjs-scale{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes guiderjs-scale-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0)}}\n"}),(0,s.jsx)("div",{ref:n,style:y(v.overlayTop),onClick:m,className:c?.overlayClass}),(0,s.jsxs)("div",{style:v.middle,children:[(0,s.jsx)("div",{ref:i,style:y(v.overlayLeft),onClick:m,className:c?.overlayClass}),(0,s.jsx)("div",{ref:a,style:{...v.control,cursor:c?.onTargetClick?"pointer":"initial",pointerEvents:c?.preventTarget?"initial":"none"},className:c?.targetClass,onClick:()=>c?.onTargetClick&&c.onOverlayClick(),children:(0,s.jsx)("div",{ref:p,style:v.popover,children:c?.popover})}),(0,s.jsx)("div",{style:y(v.overlayRight),onClick:m,className:c?.overlayClass})]}),(0,s.jsx)("div",{style:y(v.overlayBottom),onClick:m,className:c?.overlayClass})]})}))}}]);